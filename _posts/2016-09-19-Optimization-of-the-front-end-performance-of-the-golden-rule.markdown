---
layout: post
title:  "前端性能优化黄金法则"
date:   2016-09-19 23:03:32
categories: 浅谈前端 CSS
tags: 浅谈前端 CSS JS
---
###前端是庞大的，包括 HTML、 CSS、 Javascript、Image 、Flash等等各种各样的资源。前端优化是复杂的，针对方方面面的资源都有不同的方式。那么，前端优化的目的是什么 ?

![Optimization-main](http://i.imgur.com/OJwNxsP.jpg)


- 从用户角度而言，优化能够让页面加载得更快、对用户的操作响应得更及时，能够给用户提供更为友好的体验。
- 从服务商角度而言，优化能够减少页面请求数、或者减小请求所占带宽，能够节省可观的资源。
- 总之，恰当的优化不仅能够改善站点的用户体验并且能够节省相当的资源利用。


### 前端性能优化 - Yahoo前端性能团队总结的35条黄金定律

##### Yahoo 的Excetional Performance 团队总结出了一系列可以提高网站速度的方法。可以分为 7大类 35条（包括内容、服务器、CSS、JavaScript、Cookie、图片、移动应用）。 


### 内容部分



- 尽量减少 HTTP 请求
- 减少 DNS 查找
- 避免跳转
- 缓存 Ajax
- 推迟加载
- 提前加载
- 减少 DOM 元素数量
- 用域名划分页面内容
- 使 frame 数量最少
- 避免404错误




> 1. 合并文件是通过把所有的脚本放到一个文件中来减少 HTTP请求的方法。
> 2. CSS Sprites是减少图像请求的有效方法。
> 3. 缓存 DNS查找可以改善页面性能。
> 4. 跳转是使用 301和 302代码实现的（但是要记住跳转会降低用户体验）。
> 5. 为了提高性能，优化 Ajax响应是很重要的。提高 Ajxa性能的措施中最重要的方法就是使响应具有可缓存性。
> 6. 你可以仔细看一下你的网页，问问自己“哪些内容是页面呈现时所必需首先加载的？哪些内容和结构可以稍后再加载？预加载和后加载看起来似乎恰恰相反，但实际上预加载是为了实现另外一种目标。预加载是在浏览器空闲时请求将来可能会用到的页面内容（如图像、样式表和脚 本）。使用这种方法，当用户要访问下一个页面时，页面中的内容大部分已经加载到缓存中了，因此可以大大改善访问速度。
> 7. 一个复杂的页面意味着需要下载更多数据，同时也意味着JavaScript遍历DOM的效率越慢。比如当你增加一个事件句柄时在500和5000个 DOM元素中循环效果肯定是不一样的。
> 8. 把页面内容划分成若干部分可以使你最大限度地实现平行下载。
> 9. 使iframe的数量最小，ifrmae元素可以在父文档中插入一个新的HTML文档。了解iframe的工作理然后才能更加有效地使用它，这一点很重要。
> 10. HTTP请求时间消耗是很大的，因此使用HTTP请求来获得一个没有用处的响应（例如404没有找到页面）是完全没有必要的，它只会降低用户体验而不会有一点好处。


### 服务器部分

- 使用内容分发网络
- 为文件头指定 Expires 或 Cache-Control
- Gzip压缩文件内容
- 配置ETag
- 尽早刷新输出缓冲 
- 使用 GET 来完成 AJAX 请求
- 避免空的图像来源
 

### CSS部分

- 把样式表置于顶部
- 避免使用 CSS 表达式（）
- 用 <link> 代替 @import
- 避免使用滤镜
 


### JavaScript部分

- 把脚本置于页面底部
- 使用外部 JavaScript 和 CSS
- 削减 JavaScript 和 CSS
- 剔除重复脚本
- 减少DOM访问 
- 开发智能事件处理程序
 


### Coockie部分

- 减小Cookie体积
- 对于页面内容使用无coockie域名
 

### Image 部分

- 优化图像
- 优化 CSS Spirite
- 不要在 HTML 中缩放图像
- favicon.ico要小而且可缓存
 

七、 Mobile部分

- 保持单个内容小于25K
- 打包组件成复合文本


#### 是不是感觉挺多的，这还只是优化方案的概括，细分起来还有很多细节。

![expression-1](http://i.imgur.com/7fweMCk.jpg)



### 好了， 今天就到这儿，下篇文章见。


###该文章部分知识网络整理